<div class="container">
  <form class="mt-4" [formGroup]="form" (ngSubmit)="saveUser()">
    <div class="row">
      <div class="col-3">
        <input type="text" formControlName="name" class="form-control" placeholder="nombre">
      </div>
    </div>
    @if (name.errors && (name.touched || name.dirty)) {
      <div class="row">
        @if(name.errors["required"]) {
          <p class="text-danger">El dato de requerido</p>
        }

        @if (name.errors["minlength"]) {
          <p class="text-danger">El tamaño minimo es 3</p>
        }
      </div>
    }
    <div class="row mt-4">
      <div class="col-3">
        <input type="text" formControlName="lastName" class="form-control" placeholder="apellido">
      </div>
    </div>
    @if(lastName.errors && (lastName.touched || lastName.dirty)) {
      @if(lastName.errors["required"]) {
        <p class="text-danger">El dato es requerido</p>
      }

      @if(lastName.errors["minlength"]) {
        <p class="text-danger">El tamaño minimo es 5</p>
      }
    }
    <div class="row mt-4">
      <div class="col-3">
        <input type="submit" [disabled]="form.invalid" value="Guardar" class="btn btn-success">
      </div>
    </div>
  </form>

  <div class="container mt-5">
    <div class="row">
      @if (users.length === 0) {
        <p class="text-primary">La lista de usuarios esta vacia</p>
      } @else {
        @for (user of users; track $index) {
          <app-card clas [id]="$index" [name]="user.name" [lastName]="user.lastName" (doClick)="removeUser($event)"></app-card>
        }
      }
    </div>
  </div>
</div>

